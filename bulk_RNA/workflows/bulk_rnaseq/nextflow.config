/*
========================================================================================
    Bulk RNA-seq Nextflow Pipeline Configuration
========================================================================================
*/

params {
    // Pipeline version
    version = '1.0.0'

    // Input parameters
    input = null          // Path to input samplesheet
    outdir = 'results'    // Output directory
    
    // Reference genome parameters
    genome = null         // Reference genome fasta
    gtf = null           // GTF annotation file
    star_index = null    // STAR index directory (optional)
    
    // Quality control parameters
    min_reads = 1000000  // Minimum number of reads per sample
    min_mapping = 70     // Minimum mapping rate (%)
    
    // Trimming parameters
    trim = true          // Enable trimming
    min_length = 20      // Minimum read length after trimming
    min_quality = 20     // Minimum base quality for trimming
    
    // Analysis parameters
    deseq2_fdr = 0.05    // DESeq2 FDR threshold
    min_fold_change = 1  // Minimum absolute log2 fold change
    
    // Resource parameters
    max_memory = 128.GB
    max_cpus = 16
    max_time = 72.h
}

// Process-specific resource requirements
process {
    withLabel: low_memory {
        memory = 8.GB
        cpus = 2
    }
    withLabel: medium_memory {
        memory = 32.GB
        cpus = 8
    }
    withLabel: high_memory {
        memory = 64.GB
        cpus = 16
    }
}

// Executor settings for different environments
profiles {
    standard {
        process.executor = 'local'
    }
    slurm {
        process.executor = 'slurm'
        process.clusterOptions = '--account=your_account'
        process.queue = 'cpu'
    }
    singularity {
        singularity.enabled = true
        singularity.autoMounts = true
    }
}

// Manifest
manifest {
    name = 'Bulk RNA-seq Pipeline'
    author = 'Your Name'
    description = 'Nextflow pipeline for bulk RNA-seq analysis'
    version = params.version
    mainScript = 'main.nf'
    nextflowVersion = '>=21.10.3'
} 